<div class="body">

    <div style="display: flex;flex-direction: row;justify-content: space-between;">
        <div style="width: 20%; display: flex; align-items: center; margin-left: 30px;flex-direction: column;">
            <img src="/assets/img/icon/LogoAnidex.png" alt="" style="width: 50%;">
        </div>
        <div
            style="width: 35%; display: flex; align-items:center; justify-content: space-between; color: white;margin-right: 50px;">
            <button mat-button style="font-weight: bolder;font-size: 20px;color: rgb(255, 148, 184);"
                [routerLink]="['/homepage']">HOME</button>
            <button mat-button style="font-weight: bolder;font-size: 20px;color: aliceblue;"
                [routerLink]="['/vote']">VOTE</button>
            <button mat-button style="font-weight: bolder;font-size: 20px;color: rgb(255, 148, 184);"
                [routerLink]="['/top10']">Top 10</button>
            <button mat-button style="font-weight: bolder;font-size: 20px;color: aliceblue;"
                (click)="logOut()">Logout</button>

        </div>
    </div>

    <div style="display: flex;justify-content: center;height: 80%;">
        <div
            style="display: flex;background-color: rgba(51, 51, 51, 0.9);width: 1200px;height: 650px; border-radius: 15px; flex-direction: column;margin-top: -20px;">
            <div style="display: flex;flex-direction: row;margin-top: 40px; justify-content: center; height: 200px;"
                *ngFor="let user of userdata">
                <div class="circle-img">
                    <img [src]="user.imguser ? user.imguser : 'https://cdn-icons-png.flaticon.com/512/3541/3541871.png'"
                        alt="" [routerLink]="['/profile']">
                </div>
                <div style="display: flex;flex-direction: column;margin-left: 20px;margin-top: -20px;">
                    <h1 style="color: rgb(255, 148, 184);">{{user.username}}</h1>
                    <button
                        style="padding: 10px 20px;background-color: rgb(255, 148, 184);color: white;border: none;border-radius: 5px;cursor: pointer;width: 150px;font-weight: bolder;"
                        [routerLink]="['/']">แก้ไขโปรไฟล์</button>
                    <button
                        style="padding: 10px 20px;background-color: white;color: rgb(255, 148, 184);border: none;border-radius: 5px;cursor: pointer;width: 150px;font-weight: bolder;margin-top: 10px;"
                        [routerLink]="['/']">เปลี่ยนรหัสผ่าน</button>

                </div>
            </div>

            <div style="display: flex;justify-content: center;margin-top: -20px;">
                <mat-divider style=" background-color: rgb(255, 255, 255);width: 1100px;height: 1px;"></mat-divider>
            </div>
            <div style="display: flex;margin-left: 100px;">
                <h1 style="color: aliceblue;">My Picture</h1>
                <button
                    style="background-color: gray;color: white;border: none;border-radius: 20px;cursor: pointer;width: 100px;height: 30px;margin-left: 5px; margin-top: 28px;"
                    type="submit" class="btn" (click)="openPopup()">Upload Picture</button>
                <div class="popup" id="popup">
                    <h2>Upload Picture</h2>
                    <p>Chose Files to Upload</p>
                    <img *ngIf="fileUrl" [src]="fileUrl" alt="Uploaded Image"
                        style="max-width: 100%; max-height: 200px;">
                    <div style="margin-top: 10px;">
                        <input type="file" #fileUpload (change)="onFileSelected($event)" />
                    </div>
                    <button
                        style="padding: 10px 20px;background-color: rgb(255, 148, 184);color: white;border: none;border-radius: 5px;cursor: pointer;width: 150px;font-weight: bolder;margin-top: 10px;margin-left: 10px;"
                        class="button" type="button" (click)="uploadImageAnime()">Upload</button>
                    <button
                        style="padding: 10px 20px;background-color: rgb(255, 148, 184);color: white;border: none;border-radius: 5px;cursor: pointer;width: 150px;font-weight: bolder;margin-top: 10px;margin-left: 10px;"
                        class="button" type="button" (click)="closePopup()">Close</button>
                </div>

                <button
                    style="background-color: gray;color: white;border: none;border-radius: 5px;cursor: pointer;width: 100px;font-weight: bolder;height: 40px;margin-top: 20px; margin-left: 60%;"
                    [routerLink]="[]">My Ranking</button>
            </div>

            <div style="display: flex;margin-top: 15px;justify-content: center;">
                <ng-container *ngFor="let img of imageUrl; let i = index">
                    <ng-container *ngFor="let user of userdata">
                        <div style="display:flex; flex-direction: column;">
                            <img *ngIf="user.uid === img.uid" src="{{img.imganime}}" alt=""
                                style="width: 180px; height: 280px; margin: 0 18px; border-radius: 20px; border: 4px solid rgb(255, 148, 184);">
                            <p *ngIf="user.uid === img.uid" style="color: #fff;margin-left: 70px;">score:{{img.score}}
                            </p>
                        </div>
                    </ng-container>
                </ng-container>
            </div>



        </div>
    </div>

</div>